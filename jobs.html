<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jobs</title>
    <link
     href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="style/style.css"> -->
    <!-- <script src="script/style.js" type=""></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        body{
        /* background-image: url("https://images.squarespace-cdn.com/content/v1/5421b6e2e4b0a6db313b8b24/1613932175243-LWAQF519CTRPKQN4XJVC/image-from-rawpixel-id-2620215-jpeg.jpg"); */
        background-image: url("uploads/bg_education.jpg");
        background-color: #000117;
        background-position: center;
        background-repeat: no-repeat;
        object-fit: contain;
        background-size: cover;
        /* height: 100%; */
      }

      .navbar-nav{
        font-size: larger;
        font-weight: 400;
      }

      .container-fluid {
        box-shadow: 0 0 1rem 0 rgba(0, 0, 0, .2); 
        position: relative;
        z-index: 1;
        background: inherit;
        /* overflow: hidden; */
      }

      .container-fluid:before {
        content: "";
        position: absolute;
        background: inherit;
        z-index: 1;
        top: 0;
        left: 0;
        right: 0;
        bottom: 30px;
        /* box-shadow: inset 0 0 2000px rgba(150, 150, 150, 0.5); */
        filter: blur(10px);
        /* margin: -20px; */
      }

      .head{
        /* background-color: #9f0fcb; */
        font-family: 'Times New Roman', Times, serif;
        border-radius: 1%;
        color: #141414;
        width: 500px;
        /* margin: auto; */
        text-align: center;
        padding-top: 3%;
      }

      .box{
        display: flex;
        width: 90%;
        margin: auto;
        background-color: #f4f0f7;
        border-radius: 10%;
      }

      .right{
        width: 20%;
        color: #000117;
        background-color: rgb(244, 240, 247);
        overflow-y: auto;
        height: 350px;
        max-height: 500px;
        scrollbar-width: thin;
        scrollbar-color: rgb(166, 92, 240) rgb(244, 240, 247);
      }

      .right ul{
        list-style: none;
        padding: 10px;
        margin-bottom: 3%;
        text-align: left;
        font-family:'Times New Roman', Times, serif;
        cursor: pointer;
      }

      .left{
        width: 80%;
        height: auto;
        background-color: rgb(244, 240, 247);
      }

      .search{
        width: 90%;
        height: 90%;
        margin: auto;
      }

      .jobContainer{
        background-color: rgb(255, 249, 224);
        color: rgb(40, 3, 51);
        text-align: center;
        width:95%;
        height:80%;
        margin: auto;
      }

      .jobSearchInput{
        width: 80%;
        float: left;
      }

      .searchButton{
        width: 20%;
        float: right;
        margin: auto;
      }


    </style>

  </head>
  <body >
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <div class="rightnav">
          <a class="navbar-brand " href="#"><img src="uploads/LOGO_Name-01.png" alt="Shiksha Saarthi" width="250" ></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
            <div class="leftnav me-3" >
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item me-5">
                        <a class="nav-link active" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item dropdown me-5">
                        <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Resources
                        </a>
                        <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="Education.html">Education</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="policies.html">Policies</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Mentor</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Jobs</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">News</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Contact Us</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Logout</a>
                    </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="head">
        <h3>Some Jobs that you can apply for:</h3>
    </div>

    <div class="box">
        <div class="right card">
            <ul>
                <li>Software engineer</li>
                <li>Clerk</li>
                <li>Data Scientist</li>
                <li>Techinal Supervisor</li>
                <li>Charted Accountant</li>
                <li>Software engineer</li>
                <li>Clerk</li>
                <li>Data Scientist</li>
                <li>Others</li>
            </ul>
        </div>
        
        <div class="left card">
          <div class="search card">
            <form id="job-search-form">
              <input type="text" id="jobSearchInput" class="jobSearchInput" placeholder="Enter Jobs according to your interest">
              <input type="submit" id="searchButton" class="searchButton">
            </form>
            <div id="jobContainer" class="jobContainer"></div>
          </div>  
        </div>

    <script>
          // LinkedIn Jobs API settings
          const apiSettings = {
            async: true,
            crossDomain: true,
            url: "https://rapid-linkedin-jobs-api.p.rapidapi.com/search-jobs",
            method: "GET",
            headers: {
              "X-RapidAPI-Key": "3b13d9cfeamshfbac5b83c534ca9p1dc311jsnbb7b1fb6f141",
              "X-RapidAPI-Host": "rapid-linkedin-jobs-api.p.rapidapi.com",
            },
          };

          // Display jobs on the page
          const displayJobs = (jobs) => {
            const jobContainer = $("#job-container");
            jobContainer.empty();

            if (jobs && jobs.length > 0) {
              jobs.forEach((job) => {
                const jobDiv = $("<div>").addClass("job");
                const title = $("<h2>").text(job.title.text);
                const company = $("<p>").text(job.company.name);
                const location = $("<p>").text(job.location.displayName);

                jobDiv.append(title);
                jobDiv.append(company);
                jobDiv.append(location);

                jobContainer.append(jobDiv);
              });
            } else {
              const noResults = $("<p>").text("No results found.");
              jobContainer.append(noResults);
            }
          };

          // Search for jobs when the form is submitted
          $("#job-search-form").submit((event) => {
            event.preventDefault();
            const searchQuery = $("#search-query").val();

            // Update the API settings with the search query
            apiSettings.url = `https://rapid-linkedin-jobs-api.p.rapidapi.com/search-jobs?keywords=${searchQuery}&locationId=92000000&datePosted=anyTime&sort=mostRelevant`;

            // Make the API request
            $.ajax(apiSettings).done((response) => {
              console.log(response.content);
              displayJobs(response.data);
              document.getElementById("jobContainer").innerHTML=response.content;
            });
          });
      </script>
  </body>
</html>